<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitFuel - Meals</title>
    <link rel="stylesheet" type="text/css" href="/views/styles.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        .btn-white-outline-primary {
            background-color: white;
            color: #0d6efd;
            border: 1px solid #0d6efd;
        }
        .btn-white-outline-secondary {
            background-color: white;
            color: #6c757d;
            border: 1px solid #6c757d;
        }
        input[type='number'] {
            width: 60px;
        }
    </style>
</head>

<body>
<div class="header">
    <h1>Macro Nutrient and Calorie Calculator</h1>
</div>

<div class="container-fluid">
    {{>navbar}}
    <div class="row mt-3">
        <!-- Sidebar -->
        <div class="col-2">
            <div class="text-center">
                <h4>Saved Meals</h4>
            </div>
            <table class="table" id="SavedMeals">
                <thead>
                <tr>
                    <th style="width:40%">Meal</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {{#SavedMeals}}
                    <tr>
                        <td>{{Name}}</td>
                        <td><a href="/calculator/deployMealBreakfast/{{rowid}}" title="Breakfast"><i
                                class="bi bi-sunrise"></i></a></td>
                        <td><a href="/calculator/deployMealLunch/{{rowid}}" title="Lunch"><i class="bi bi-sun"></i></a>
                        </td>
                        <td><a href="/calculator/deployMealDinner/{{rowid}}" title="Dinner"><i
                                class="bi bi-moon"></i></a></td>
                        <td><a href="/calculator/deleteSavedMeals/{{rowid}}" title="Delete"><i
                                class="bi bi-trash text-danger"></i></a></td>
                    </tr>
                {{/SavedMeals}}
                </tbody>
            </table>
        </div>

        <!-- Meal Sections -->
        <div class="col-10">
            <div class="row">

                <!-- Breakfast -->
                <div class="col-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h4 class="text-center">Breakfast</h4>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th>Meal</th>
                                        <th>Protein</th>
                                        <th>Fat</th>
                                        <th>Carbs</th>
                                        <th>Cal</th>
                                        <th></th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {{#breakfastFood}}
                                        <tr>
                                            <td>{{Name}}</td>
                                            <td>{{Protein}}</td>
                                            <td>{{Fat}}</td>
                                            <td>{{Carbs}}</td>
                                            <td>{{Cals}}</td>
                                            <td><a href="/calculator/saveBreakfastInfo/{{rowid}}"><i
                                                    class="bi bi-floppy"></i></a></td>
                                            <td><a href="/calculator/deleteBreakfastInfo/{{rowid}}"><i
                                                    class="bi bi-trash text-danger"></i></a></td>
                                        </tr>
                                    {{/breakfastFood}}
                                    </tbody>
                                </table>
                            </div>
                            {{#Breakfast}}
                                <form action="/calculator/addBreakfast" method="post">
                                    <label>Mealname:</label><input name="Name" type="text" class="form-control">
                                    <label>Protein:</label><input name="Protein" type="number" class="form-control">
                                    <label>Fat:</label><input name="Fat" type="number" class="form-control">
                                    <label>Carbs:</label><input name="Carbs" type="number" class="form-control">
                                    <label>Cal:</label><input name="Cals" type="number" class="form-control">
                                    <button type="submit" class="btn btn-success mt-2">Add Meal</button>
                                    <button type="button" class="btn btn-secondary mt-2"
                                            onclick="location.href='/calculator/deleteBreakfast';">Clear
                                    </button>
                                </form>
                            {{/Breakfast}}
                        </div>
                    </div>
                </div>

                <!-- Lunch -->
                <div class="col-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h4 class="text-center">Lunch</h4>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th>Meal</th>
                                        <th>Protein</th>
                                        <th>Fat</th>
                                        <th>Carbs</th>
                                        <th>Cal</th>
                                        <th></th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {{#lunchFood}}
                                        <tr>
                                            <td>{{Name}}</td>
                                            <td>{{Protein}}</td>
                                            <td>{{Fat}}</td>
                                            <td>{{Carbs}}</td>
                                            <td>{{Cals}}</td>
                                            <td><a href="/calculator/saveLunchInfo/{{rowid}}"><i
                                                    class="bi bi-floppy"></i></a></td>
                                            <td><a href="/calculator/deleteLunchInfo/{{rowid}}"><i
                                                    class="bi bi-trash text-danger"></i></a></td>
                                        </tr>
                                    {{/lunchFood}}
                                    </tbody>
                                </table>
                            </div>
                            {{#Lunch}}
                                <form action="/calculator/addLunch" method="post">
                                    <label>Mealname:</label><input name="Name" type="text" class="form-control">
                                    <label>Protein:</label><input name="Protein" type="number" class="form-control">
                                    <label>Fat:</label><input name="Fat" type="number" class="form-control">
                                    <label>Carbs:</label><input name="Carbs" type="number" class="form-control">
                                    <label>Cal:</label><input name="Cals" type="number" class="form-control">
                                    <button type="submit" class="btn btn-success mt-2">Add Meal</button>
                                    <button type="button" class="btn btn-secondary mt-2"
                                            onclick="location.href='/calculator/deleteLunch';">Clear
                                    </button>
                                </form>
                            {{/Lunch}}
                        </div>
                    </div>
                </div>

                <!-- Dinner -->
                <div class="col-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h4 class="text-center">Dinner</h4>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th>Meal</th>
                                        <th>Protein</th>
                                        <th>Fat</th>
                                        <th>Carbs</th>
                                        <th>Cal</th>
                                        <th></th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {{#dinnerFood}}
                                        <tr>
                                            <td>{{Name}}</td>
                                            <td>{{Protein}}</td>
                                            <td>{{Fat}}</td>
                                            <td>{{Carbs}}</td>
                                            <td>{{Cals}}</td>
                                            <td><a href="/calculator/saveDinnerInfo/{{rowid}}"><i
                                                    class="bi bi-floppy"></i></a></td>
                                            <td><a href="/calculator/deleteDinnerInfo/{{rowid}}"><i
                                                    class="bi bi-trash text-danger"></i></a></td>
                                        </tr>
                                    {{/dinnerFood}}
                                    </tbody>
                                </table>
                            </div>
                            {{#Dinner}}
                                <form action="/calculator/addDinner" method="post">
                                    <label>Mealname:</label><input name="Name" type="text" class="form-control">
                                    <label>Protein:</label><input name="Protein" type="number" class="form-control">
                                    <label>Fat:</label><input name="Fat" type="number" class="form-control">
                                    <label>Carbs:</label><input name="Carbs" type="number" class="form-control">
                                    <label>Cal:</label><input name="Cals" type="number" class="form-control">
                                    <button type="submit" class="btn btn-success mt-2">Add Meal</button>
                                    <button type="button" class="btn btn-secondary mt-2"
                                            onclick="location.href='/calculator/deleteDinner';">Clear
                                    </button>
                                </form>
                            {{/Dinner}}
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add meals -->
            <div class="row mt-3 mb-3">
                <div class="col text-center">
                    {{#displayFormLink}}
                        <button type="button"
                                class="btn btn-white-outline-primary btn-sm mx-2"
                                onclick="location.href='/calculator/addBreakfastForm'">
                            Add a Meal
                        </button>
                    {{/displayFormLink}}

                    {{#displayCloseLink}}
                        <button type="button"
                                class="btn btn-white-outline-secondary btn-sm mx-2"
                                onclick="location.href='/calculator/closeBreakfastForm'">
                            Close Forms
                        </button>
                    {{/displayCloseLink}}
                </div>
            </div>

            <!-- Totals -->
            <div class="row mt-4">
                <div class="text-center">
                    <h4>Totals</h4>
                </div>
                <div class="table-responsive">
                    <table class="table" id="Totals">
                        <thead>
                        <tr>
                            <th>Protein</th>
                            <th>Fat</th>
                            <th>Carbs</th>
                            <th>Cal</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            {{#totals}}
                                <td>{{.}}</td>
                            {{/totals}}
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>
</div>
</body>
</html>